(function(){"use strict";var e={5750:function(e,a,t){var n=t(5130),o=t(6768);function r(e,a,t,n,r,s){const i=(0,o.g2)("Home");return(0,o.uX)(),(0,o.Wv)(i)}var s=t(4232);const i=e=>((0,o.Qi)("data-v-4247d543"),e=e(),(0,o.jt)(),e),l={role:"navigation",class:"h-[50px] flex space-x-4 items-center justify-between p-4 bg-gray-800 text-white"},c=i((()=>(0,o.Lk)("a",{class:"flex-shrink-0",href:"/"},[(0,o.Lk)("img",{src:"https://dummyimage.com/46x30/323333/f2e6f2.png&text=CVL",alt:"logo",class:"w-12 h-8 rounded-lg"})],-1))),d={class:"flex flex-grow items-center"},u=i((()=>(0,o.Lk)("i",{class:"fa fa-search fa-lg"},null,-1))),f=[u],p=i((()=>(0,o.Lk)("button",{class:"bg-gray-600 text-white p-2 rounded-md hover:bg-gray-700 w-12"},[(0,o.Lk)("i",{class:"fa fa-bars"})],-1))),v={id:"content"},g=["src"],h={key:1,class:"w-full h-full flex items-center justify-center"},m=i((()=>(0,o.Lk)("i",{class:"fa fa-spinner fa-spin fa-5x"},null,-1))),w=[m],k={class:"h-[35px] flex items-center justify-between p-4 bg-gray-700 text-white"},b=i((()=>(0,o.Lk)("div",null,"Add to favorites",-1))),y={class:"h-[50px] flex items-center justify-between p-4 bg-gray-800 text-white"},x=i((()=>(0,o.Lk)("div",{class:"flex items-center"},[(0,o.Lk)("a",{class:"text-white hover:text-gray-400",href:"/g/522416/"},[(0,o.Lk)("i",{class:"fa fa-reply"})])],-1))),L={class:"flex items-center space-x-2"},D=(0,o.Fv)('<a class="invisible" href="#" data-v-4247d543><i class="fa fa-chevron-left" data-v-4247d543></i><i class="fa fa-chevron-left" data-v-4247d543></i></a><a class="invisible" href="#" data-v-4247d543><i class="fa fa-chevron-left" data-v-4247d543></i></a>',2),C={class:"bg-transparent text-white border-none"},_={class:"font-semibold"},j=i((()=>(0,o.Lk)("span",{class:"mx-1"},"of",-1))),E={key:0},I=(0,o.Fv)('<a href="/g/522416/2/" class="text-white hover:text-gray-400" data-v-4247d543><i class="fa fa-chevron-right" data-v-4247d543></i></a><a href="/g/522416/433/" class="text-white hover:text-gray-400" data-v-4247d543><i class="fa fa-chevron-right" data-v-4247d543></i><i class="fa fa-chevron-right" data-v-4247d543></i></a>',2),O=i((()=>(0,o.Lk)("div",{class:"flex items-center"},[(0,o.Lk)("button",{class:"bg-transparent text-white border-none"},[(0,o.Lk)("i",{class:"fa fa-cog"})])],-1)));function M(e,a,t,r,i,u){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("nav",l,[c,(0,o.Lk)("div",d,[(0,o.bo)((0,o.Lk)("input",{type:"search",name:"q","onUpdate:modelValue":a[0]||(a[0]=a=>e.keyword=a),autocapitalize:"none",placeholder:"e.g. naruto uploaded:7d",class:"flex-grow p-2 border border-gray-600 rounded-l-md bg-gray-800 text-white placeholder-gray-400"},null,512),[[n.Jo,e.keyword]]),(0,o.Lk)("button",{type:"button",onClick:a[1]||(a[1]=(...a)=>e.addDocument&&e.addDocument(...a)),class:"bg-blue-500 text-white p-2 rounded-r-md hover:bg-blue-600"},f)]),p]),(0,o.Lk)("div",v,[(0,o.Lk)("section",{id:"image-container",class:"relative w-full bg-gray-900 h-full overflow-auto",style:{height:"calc(var(--vh, 1vh) * 100 - 135px)"},onClick:a[4]||(a[4]=(...a)=>e.handleContainerClick&&e.handleContainerClick(...a))},[(0,o.Lk)("div",{class:"absolute left-0 top-0 bottom-0 w-1/2",onClick:a[2]||(a[2]=(0,n.D$)(((...a)=>e.prevImage&&e.prevImage(...a)),["stop","prevent"]))}),(0,o.Lk)("div",{class:"absolute right-0 top-0 bottom-0 w-1/2",onClick:a[3]||(a[3]=(0,n.D$)(((...a)=>e.nextImage&&e.nextImage(...a)),["stop","prevent"]))}),e.processedDocs.length>0&&!e.loading?((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.processedDocs[e.index].imageUrl,class:"w-full h-full object-cover",alt:"Image"},null,8,g)):(0,o.Q3)("",!0),e.loading||0==e.processedDocs.length?((0,o.uX)(),(0,o.CE)("div",h,w)):(0,o.Q3)("",!0)]),(0,o.Lk)("section",k,[(0,o.Lk)("button",{type:"button",onClick:a[5]||(a[5]=(...a)=>e.addDetailDocument&&e.addDetailDocument(...a))}," More like this "+(0,s.v_)(e.detailTags),1),b]),(0,o.Lk)("section",y,[x,(0,o.Lk)("div",L,[D,(0,o.Lk)("button",C,[(0,o.Lk)("span",_,(0,s.v_)(e.index+1),1),j,e.processedDocs.length>0?((0,o.uX)(),(0,o.CE)("span",E,(0,s.v_)(e.processedDocs.length),1)):(0,o.Q3)("",!0)]),I]),O])])],64)}t(4114),t(4603),t(7566),t(8721);var R=t(144),A=t(6400),K=t(7617);const P={apiKey:"AIzaSyCwdS4H0dcEdNfGQ7BOUptagbMx_81hjhs",authDomain:"scrapper-a3247.firebaseapp.com",projectId:"scrapper-a3247",storageBucket:"scrapper-a3247.appspot.com",messagingSenderId:"680602738170",appId:"1:680602738170:web:4c21789e962b5fc5d11843"},Q=(0,A.Wp)(P),S=(0,K.aU)(Q);var F=(0,o.pM)({setup(){const e=(0,R.KR)(Math.floor((new Date).getTime()/1e3)),a=new URLSearchParams(window.location.search),t=(0,R.KR)(a.get("keyword")||""),n=(0,R.KR)(0),r=(0,R.KR)(!1),s=(0,R.KR)([]),i=(0,R.KR)(""),l=(0,R.KR)(0),c=async()=>{r.value=!0;try{await(0,K.gS)((0,K.rJ)(S,"images"),{keyword:t.value,limit:300,skip:300*l.value++,processed:!1,uniqueId:e.value}),console.log("Document added "+e.value)}catch(a){console.error("Error adding document: ",a)}finally{await f(),r.value=!1}},d=async()=>{r.value=!0;try{await(0,K.gS)((0,K.rJ)(S,"details"),{id:s.value[n.value]._id,processed:!1}),console.log("Detail Document added")}catch(e){console.error("Error adding document: ",e)}finally{await u(),r.value=!1}},u=()=>{const e=(0,K.P)((0,K.rJ)(S,"details"),(0,K._M)("processed","==",!0),(0,K._M)("id","==",s.value[n.value]._id),(0,K.AB)(1));(0,K.aQ)(e,(e=>{i.value="",e.forEach((e=>{const a=e.data().apiResponse,t=a.customPrompt,n=a.tagGroups.map((e=>e.tags[0].names[0].value));console.log(t+n.join(" "));const o=t+n.join(" ");window.open(`./?keyword=${o}`,"_blank")}))}))},f=async()=>{const a=(0,K.P)((0,K.rJ)(S,"images"),(0,K._M)("processed","==",!0),(0,K._M)("uniqueId","==",e.value));(0,K.aQ)(a,(e=>{s.value=[],e.forEach((e=>{const a=e.data().apiResponse.results.map((e=>e));s.value.push(...a)})),p(0)}))},p=(e,a=10)=>{const t=s.value.slice(e,e+a);t.forEach((e=>{const a=new Image;a.src=e.imageUrl}))},v=()=>{const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)};(0,o.wB)(n,(e=>{(e%10===0||e+10>s.value.length)&&p(e)})),(0,o.sV)((()=>{v(),window.addEventListener("resize",v)})),(0,o.hi)((()=>{window.removeEventListener("resize",v)}));const g=async()=>{n.value<s.value.length-1?n.value++:await c()},h=()=>{n.value>0&&n.value--},m=e=>{const{offsetX:a,target:t}=e,n=t.clientWidth;a>n/2?g():h()};return{keyword:t,loading:r,addDocument:c,addDetailDocument:d,processedDocs:s,detailTags:i,index:n,handleContainerClick:m,nextImage:g,prevImage:h}}}),U=t(1241);const X=(0,U.A)(F,[["render",M],["__scopeId","data-v-4247d543"]]);var B=X,J=(0,o.pM)({name:"App",components:{Home:B}});const T=(0,U.A)(J,[["render",r]]);var q=T,z=t(4458);(0,z.k)("/image-scrapper-app/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,n.Ef)(q).mount("#app")}},a={};function t(n){var o=a[n];if(void 0!==o)return o.exports;var r=a[n]={exports:{}};return e[n].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(a,n,o,r){if(!n){var s=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],r=e[d][2];for(var i=!0,l=0;l<n.length;l++)(!1&r||s>=r)&&Object.keys(t.O).every((function(e){return t.O[e](n[l])}))?n.splice(l--,1):(i=!1,r<s&&(s=r));if(i){e.splice(d--,1);var c=o();void 0!==c&&(a=c)}}return a}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,n){var o,r,s=n[0],i=n[1],l=n[2],c=0;if(s.some((function(a){return 0!==e[a]}))){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(l)var d=l(t)}for(a&&a(n);c<s.length;c++)r=s[c],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(d)},n=self["webpackChunkimage_scrapper_app"]=self["webpackChunkimage_scrapper_app"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(5750)}));n=t.O(n)})();
//# sourceMappingURL=app.9c6c7b78.js.map