(function(){"use strict";var e={3095:function(e,t,a){var n=a(5130),o=a(6768);function r(e,t,a,n,r,s){const c=(0,o.g2)("Home");return(0,o.uX)(),(0,o.Wv)(c)}var s=a(4232);const c=e=>((0,o.Qi)("data-v-3c54cb76"),e=e(),(0,o.jt)(),e),i={role:"navigation",class:"h-[50px] flex space-x-4 items-center justify-between p-4 bg-gray-800 text-white"},l=c((()=>(0,o.Lk)("a",{class:"flex-shrink-0",href:"/"},[(0,o.Lk)("img",{src:"https://dummyimage.com/46x30/323333/f2e6f2.png&text=CVL",alt:"logo",class:"w-12 h-8 rounded-lg"})],-1))),d={class:"flex flex-grow items-center"},u=c((()=>(0,o.Lk)("i",{class:"fa fa-search fa-lg"},null,-1))),p=[u],f=c((()=>(0,o.Lk)("button",{class:"bg-gray-600 text-white p-2 rounded-md hover:bg-gray-700 w-12"},[(0,o.Lk)("i",{class:"fa fa-bars"})],-1))),v={id:"content"},g=["src"],h={key:1,class:"w-full h-full flex items-center justify-center"},m=c((()=>(0,o.Lk)("i",{class:"fa fa-spinner fa-spin fa-5x"},null,-1))),b=[m],w={class:"h-[35px] flex items-center justify-between p-4 bg-gray-700 text-white"},k=c((()=>(0,o.Lk)("div",null,"Add to favorites",-1))),y={class:"h-[50px] flex items-center justify-between p-4 bg-gray-800 text-white"},x=c((()=>(0,o.Lk)("div",{class:"flex items-center"},[(0,o.Lk)("a",{class:"text-white hover:text-gray-400",href:"/g/522416/"},[(0,o.Lk)("i",{class:"fa fa-reply"})])],-1))),L={class:"flex items-center space-x-2"},C=(0,o.Fv)('<a class="invisible" href="#" data-v-3c54cb76><i class="fa fa-chevron-left" data-v-3c54cb76></i><i class="fa fa-chevron-left" data-v-3c54cb76></i></a><a class="invisible" href="#" data-v-3c54cb76><i class="fa fa-chevron-left" data-v-3c54cb76></i></a>',2),D={class:"bg-transparent text-white border-none"},_={class:"font-semibold"},j=c((()=>(0,o.Lk)("span",{class:"mx-1"},"of",-1))),E={key:0},I=(0,o.Fv)('<a href="/g/522416/2/" class="text-white hover:text-gray-400" data-v-3c54cb76><i class="fa fa-chevron-right" data-v-3c54cb76></i></a><a href="/g/522416/433/" class="text-white hover:text-gray-400" data-v-3c54cb76><i class="fa fa-chevron-right" data-v-3c54cb76></i><i class="fa fa-chevron-right" data-v-3c54cb76></i></a>',2),R=c((()=>(0,o.Lk)("div",{class:"flex items-center"},[(0,o.Lk)("button",{class:"bg-transparent text-white border-none"},[(0,o.Lk)("i",{class:"fa fa-cog"})])],-1)));function O(e,t,a,r,c,u){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("nav",i,[l,(0,o.Lk)("div",d,[(0,o.bo)((0,o.Lk)("input",{type:"search",name:"q","onUpdate:modelValue":t[0]||(t[0]=t=>e.keyword=t),autocapitalize:"none",placeholder:"e.g. naruto uploaded:7d",class:"flex-grow p-2 border border-gray-600 rounded-l-md bg-gray-800 text-white placeholder-gray-400"},null,512),[[n.Jo,e.keyword]]),(0,o.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.addDocument&&e.addDocument(...t)),class:"bg-blue-500 text-white p-2 rounded-r-md hover:bg-blue-600"},p)]),f]),(0,o.Lk)("div",v,[(0,o.Lk)("section",{id:"image-container",class:"relative w-full bg-gray-900 h-full overflow-auto",style:{height:"calc(var(--vh, 1vh) * 100 - 135px)"},onClick:t[4]||(t[4]=(...t)=>e.handleContainerClick&&e.handleContainerClick(...t))},[(0,o.Lk)("div",{class:"absolute left-0 top-0 bottom-0 w-1/2",onClick:t[2]||(t[2]=(0,n.D$)(((...t)=>e.prevImage&&e.prevImage(...t)),["stop","prevent"]))}),(0,o.Lk)("div",{class:"absolute right-0 top-0 bottom-0 w-1/2",onClick:t[3]||(t[3]=(0,n.D$)(((...t)=>e.nextImage&&e.nextImage(...t)),["stop","prevent"]))}),e.processedDocs.length>0?((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.processedDocs[0].apiResponse.results[e.index].imageUrl,class:"w-full h-full object-cover",alt:"Image"},null,8,g)):(0,o.Q3)("",!0),e.loading?((0,o.uX)(),(0,o.CE)("div",h,b)):(0,o.Q3)("",!0)]),(0,o.Lk)("section",w,[(0,o.Lk)("button",{type:"button",onClick:t[5]||(t[5]=(...t)=>e.addDetailDocument&&e.addDetailDocument(...t))}," More like this "+(0,s.v_)(e.detailTags),1),k]),(0,o.Lk)("section",y,[x,(0,o.Lk)("div",L,[C,(0,o.Lk)("button",D,[(0,o.Lk)("span",_,(0,s.v_)(e.index+1),1),j,e.processedDocs.length>0?((0,o.uX)(),(0,o.CE)("span",E,(0,s.v_)(e.processedDocs[0].apiResponse.results.length),1)):(0,o.Q3)("",!0)]),I]),R])])],64)}a(4114),a(4603),a(7566),a(8721);var A=a(144),M=a(6400),K=a(7617);const P={apiKey:"AIzaSyCwdS4H0dcEdNfGQ7BOUptagbMx_81hjhs",authDomain:"scrapper-a3247.firebaseapp.com",projectId:"scrapper-a3247",storageBucket:"scrapper-a3247.appspot.com",messagingSenderId:"680602738170",appId:"1:680602738170:web:4c21789e962b5fc5d11843"},Q=(0,M.Wp)(P),S=(0,K.aU)(Q);var F=(0,o.pM)({setup(){const e=new URLSearchParams(window.location.search),t=(0,A.KR)(e.get("keyword")||""),a=(0,A.KR)(0),n=(0,A.KR)(!1),r=(0,A.KR)([]),s=(0,A.KR)(""),c=async()=>{n.value=!0,a.value=0;try{await(0,K.gS)((0,K.rJ)(S,"images"),{keyword:t.value,limit:300,skip:0,processed:!1}),console.log("Document added")}catch(e){console.error("Error adding document: ",e)}finally{n.value=!1}await d()},i=async()=>{n.value=!0;try{await(0,K.gS)((0,K.rJ)(S,"details"),{id:r.value[0].apiResponse.results[a.value]._id,processed:!1}),console.log("Detail Document added")}catch(e){console.error("Error adding document: ",e)}finally{n.value=!1}await l()},l=()=>{const e=(0,K.P)((0,K.rJ)(S,"details"),(0,K._M)("processed","==",!0),(0,K._M)("id","==",r.value[0].apiResponse.results[a.value]._id),(0,K.AB)(1));(0,K.aQ)(e,(e=>{s.value="",e.forEach((e=>{const t=e.data().apiResponse,a=t.customPrompt,n=t.tagGroups.map((e=>e.tags[0].names[0].value));console.log(a+n.join(" "));const o=a+n.join(" ");window.open(`/?keyword=${o}`,"_blank")}))}))},d=()=>{const e=(0,K.P)((0,K.rJ)(S,"images"),(0,K._M)("processed","==",!0),(0,K._M)("keyword","==",t.value));(0,K.aQ)(e,(e=>{r.value=[],e.forEach((e=>{r.value.push({id:e.id,...e.data()})}));const t=r.value.map((e=>e.apiResponse.results.map((e=>e.imageUrl)))).flat();u(t)}))},u=(e,t=0,a=10)=>{const n=e.slice(t,t+a);n.forEach((e=>{const t=new Image;t.src=e}));const o=t+a;o<e.length&&setTimeout((()=>{u(e,o,a)}),1e3)},p=()=>{const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)};(0,o.sV)((()=>{p(),window.addEventListener("resize",p)})),(0,o.hi)((()=>{window.removeEventListener("resize",p)}));const f=()=>{a.value<r.value[0]?.apiResponse.results.length-1&&a.value++},v=()=>{a.value>0&&a.value--},g=e=>{const{offsetX:t,target:a}=e,n=a.clientWidth;t>n/2?f():v()};return{keyword:t,loading:n,addDocument:c,addDetailDocument:i,processedDocs:r,detailTags:s,index:a,handleContainerClick:g,nextImage:f,prevImage:v}}}),U=a(1241);const X=(0,U.A)(F,[["render",O],["__scopeId","data-v-3c54cb76"]]);var J=X,T=(0,o.pM)({name:"App",components:{Home:J}});const z=(0,U.A)(T,[["render",r]]);var B=z,H=a(4458);(0,H.k)("/image-scrapper-app/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,n.Ef)(B).mount("#app")}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,r){if(!n){var s=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],r=e[d][2];for(var c=!0,i=0;i<n.length;i++)(!1&r||s>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(c=!1,r<s&&(s=r));if(c){e.splice(d--,1);var l=o();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,r,s=n[0],c=n[1],i=n[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(o in c)a.o(c,o)&&(a.m[o]=c[o]);if(i)var d=i(a)}for(t&&t(n);l<s.length;l++)r=s[l],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},n=self["webpackChunkimage_scrapper_app"]=self["webpackChunkimage_scrapper_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(3095)}));n=a.O(n)})();
//# sourceMappingURL=app.399b7dc1.js.map